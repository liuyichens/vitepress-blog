---
title: 面试题目记录01
date: 2022-08-08 10:01:54
permalink: /pages/a3970d/
categories:
  - 前端八股文
tags:
  - 前端面试题
author:
  name: 柳逸尘
---



## HTTP和HTTPS

### HTTP和HTTPS的基本概念

http: 是一个客户端和服务端请求和应答的标准(TCP)，用于从www服务器传输超文本到本地浏览器的超文本传输协议。

https: 是以安全为目标的HTTP通道，即HTTP下加入SSL层进行加密。作用是建立一个信息安全通道，来确保数据的传输，确保网站的真实性。

### http和https的区别及优缺点

- http是超文本传输协议，**信息是明文传输**，HTTPS协议比HTTP协议更安全，**HTTPS是具有安全性的SSL加密传输协议**，可方式数据在传输过程中被窃取、修改，确保数据的完整性(当然安全性并不是绝对的)
- http协议的默认端口是`80`，https默认的端口是`443`
- http的连接很简单，是无状态的。https握手阶段比较费时间，会使页面加载时间延长50%，增加10%~20%的耗电
- https缓存不如http高效，会增加数据开销
- https协议需要**ca证书**，费用较高，功能越强大的证书费用越高。
- SSL证书需要绑定IP，不能在同一个IP上绑定多个域名，IPV4资源不能支持这种消耗。

### https协议工作的原理

客户端在使用HTTPS方式与Web服务器通行时有以下几个步骤

1. 客户端使用https url 访问服务器，则要求web服务器建立ssl链接
2. web服务器接收到客户端的请求后，会将网站的证书(证书中包含了公钥)传输给客户端。
3. 客户端和Web服务器端开始协商SSL链接的安全等级，也就是加密等级。
4. 客户端浏览器通过双方协商一直的安全等级，建立会话密钥，然后通过网站的公钥和加密会话密钥，并传送网站。
5. web服务器通过自己的私钥解密出会话密钥。
6. web服务器通过会话密钥加密与客户端之间的通信

## TCP三次握手

1. 第一次握手：建立连接时，客户端发送`syn`包(syn=j)到服务器，并进入`SYN_SENT`状态，等待服务器确认；（SYN：同步序列编号(Synchronize Sequence Numbers)）
2. 第二次握手：服务器收到`syn`包并确认客户的syn(ack=j+1)，同时也发送一个自己的SYN包(syn=k)，即SYN+ACK包，此时服务器进入`SYN_RECV `状态。
3. 第三次握手：客户端收到服务器的SYN+ACK包，向服务器发送确认包ACK(ack=k+1)，此包发送完毕，客户端和服务器进入ESTABLISHED(TCP连接成功)状态，完成三次握手。

::: tip

握手过程中传送的包不包含数据，三次握手完毕后，客户端和服务器开始正式传送数据

:::	

## TCP四次挥手

1. 客户端进程发出连接释放报文，并且停止发送数据。释放数据报文首部，FIN=1，其序列号为seq=u(等于前面已经传送过来的数据的最后一个字节的序号加1)，此时，客户端进入FIN-WAIT-1(终止等待1)状态。TCP规定，FIN报文段即使不携带数据，也要消耗一个序号。
2. 服务器收到连接释放报文，发出确认报文，ACK=1，ack=u+1，并且带上自己的序列号seq=v，此时，服务端就进入了CLOSE-WAIT(关闭等待)状态。TCP服务器通知高层的应用进程，客户端向服务器的方向就释放了，这时候处于半关闭状态，即客户端已经没有数据要发送了，但是服务器若发送数据，客户端依然要接受，这个状态还要持续一段时间，也就是整个CLOSE-WAIT状态持续的时间。
3. 客户端接收到服务器的确认后，此时，客户端进入FIN-WAIT-2(终止等待2)状态，等待服务器发送连接释放报文(在此之前还需要接受服务器发送的最后的数据)
